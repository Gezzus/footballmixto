<!DOCTYPE html>
<html lang="en" class="h-100">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>LGM Sports - Home</title>
    <script src="//code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="//stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.12/handlebars.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js" ></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.23.0/moment.min.js" ></script>
    <link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" />
    <link href="/web/css/index.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <script type="text/javascript" src="/web/js/Utils.js"></script>
    <script type="text/javascript" src="/web/js/base.js"></script>
    <script type="text/javascript" src="/web/js/eventsRetrieve.js"></script>
    <script type="text/javascript" src="/web/js/gamePlayerActions.js"></script>
</head>

<body class="d-flex flex-column h-100">


<!--   ignore: url('../img/frontpage.jpeg') center center no-repeat scroll;-->
<!-- Header with Background Image -->
<header class="frontpage">
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
          <a class="navbar-brand" href="/">LGM Sports</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarResponsive">
              <ul class="navbar-nav ml-auto" id="navigationBar">
                  <li class="nav-item"> <a class="nav-link" href="#">Home </a> </li>
                  <!-- <li class="nav-item"> <a class="nav-link" href="#events">Events</a> </li> -->
                  <!-- <li class="nav-item"> <a class="nav-link" href="#profile">Profile</a> </li> -->
                  <!-- <li class="nav-item"> <a class="nav-link" href="#admin">Admin</a> </li> -->
                  <li class="nav-item"> <a class="nav-link" href="/api/logout">Logout</a> </li>
              </ul>
          </div>
      </div>
  </nav>
</header>

<!--<div class="container-sidebar">

</div>-->
<main role="main">
  <div class="container">
    <!-- Page Content -->
    <div id="body"></div>


</main>
<!-- Footer -->
<footer class="footer navbar-fixed-bottom mt-auto py-3 bg-dark">
    <div class="container">
        <p class="m-0 text-center text-white">Made with â™¥ by a bunch of guys.</p>
    </div>
    <!-- /.container -->
</footer>
</body>

<script id="home-template" type="text/x-handlebars-template">
  <div>
    <div class="my-3 p-3 bg-white rounded shadow-sm">
      <div class="border-bottom border-gray d-flex justify-content-between align-items-center w-100">
        <h4 class="pb-2 mb-0 ">Events</h4>
        <small>
          <a href="#" data-toggle="modal" data-target="#product_view">Create new</a>
        </small>
      </div>
      <div>
        {{#each events}}
        <div class="media text-muted pt-3">
          <img class="bd-placeholder-img mr-2 rounded" src="{{img}}">
          <div class="media-body pb-3 mb-0 small lh-125 border-bottom border-gray">
            <div class="d-flex justify-content-between align-items-center w-100">
              <strong class="text-gray-dark"><a href="game.html#{{id}}">{{type.name}}</a></strong>
              <span>
                {{#if playing}}
                <a href="#" onclick="removeSelfPlayer({{id}}).then(refresh).fail(notifyError); return false;">Leave</a>
                {{else}}
                <a href="#" onclick="addSelfPlayer({{id}}).then(function(result) { location.href = '/web/game.html#' + result.id; }).fail(notifyError); return false;">Join</a>
                {{/if}}
                |
                <a href="game.html#{{id}}">Details</a>
              </span>
            </div>
            <span class="d-block">{{date}}</span>
          </div>
        </div>
        {{else}}
        <small class="mt-4" style="color: #95A3B3;"><strong>We couldn't find any events ;(</strong></small>
        {{/each}}
      </div>
    </div>
  </div>
  <div class="my-3 p-3 bg-white rounded shadow-sm">
    <div class="border-bottom border-gray d-flex justify-content-between align-items-center w-100">
      <h4 class="pb-2 mb-0 ">Gallery</h4>
    </div>
    <div id="events">
      <div class="media text-muted pt-3">
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active"> <img src="/web/img/carousel/1.jpeg" class="rounded d-block w-100"> </div>
            <div class="carousel-item"> <img src="/web/img/carousel/2.jpeg" class="rounded d-block w-100"> </div>
            <div class="carousel-item"> <img src="/web/img/carousel/3.jpeg" class="rounded d-block w-100"> </div>
            <div class="carousel-item"> <img src="/web/img/carousel/4.jpeg" class="rounded d-block w-100"> </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
      </div>
    </div>
  </div>
  </div>
  <div class="modal fade product_view" id="product_view">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">New Event</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form id="createGame">
            <div class="form-group">
              <label for="recipient-name" class="col-form-label">Type:</label>
              <select class="form-control" name="typeId">
                <option value="2">Football - 5 vs 5 (2 fields)</option>
                <option value="1">Football - 5 vs 5 (1 field)</option>
                <option value="3">Tennis - 1 vs 1</option>
                <option value="4">Tennis - 2 vs 2</option>
              </select>
            </div>
            <div class="form-group">
              <label for="message-text" class="col-form-label">Date:</label>
              <input class="form-control" type="date" name="date" required="required" value="{{next_day 4}}">
            </div>
            <div class="form-group">
              <label for="message-text" class="col-form-label">Time:</label>
              <input class="form-control" type="time" name="time" required="required" value="19:00">
            </div>
            <input type="hidden" name="action" value="createGame">
          </form>
        </div>
        <div class="modal-footer">
          <button type="submit" onclick="$.post('/api/events', $('form').serializeFormJSON(), function(result) { location.href = '/web/game.html#' + result.id; }).fail(notifyError); return false;" class="btn btn-primary" data-toggle="modal" data-target="#product_view">Create</button>
        </div>
      </div>
    </div>
  </div>
</script>
</html>
